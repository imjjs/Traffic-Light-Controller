import test
import config
intersection_info = {
    "Controller1443088096": {
        "PhaseDescriptor": {
            "0": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "1011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "0001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "0001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S32",
            "S33",
            "S34",
            "S35"
        ],
        "threshold": 3
    },
    "Controller1443088101": {
        "PhaseDescriptor": {
            "0": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S1",
            "S2",
            "S4",
            "S3"
        ],
        "threshold": 3
    },
    "Controller202270699": {
        "PhaseDescriptor": {
            "0": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S18",
            "S16",
            "S17",
            "S19"
        ],
        "threshold": 3
    },
    "Controller202305800": {
        "PhaseDescriptor": {
            "0": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "1001",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S30",
            "S29",
            "S28",
            "S31"
        ],
        "threshold": 3
    },
    "Controller202407913": {
        "PhaseDescriptor": {
            "0": {
                "flows": "011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
        ],
        "sensors": [
            "S11",
            "S10",
            "S9"
        ],
        "threshold": 3
    },
    "Controller202514063": {
        "PhaseDescriptor": {
            "0": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S20",
            "S22",
            "S21",
            "S23"
        ],
        "threshold": 3
    },
    "Controller202514074": {
        "PhaseDescriptor": {
            "0": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "0110",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "1111",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "1000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "1000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S6",
            "S8",
            "S7",
            "S5"
        ],
        "threshold": 3
    },
    "Controller202514078": {
        "PhaseDescriptor": {
            "0": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "1010",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "0101",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S13",
            "S14",
            "S12",
            "S15"
        ],
        "threshold": 3
    },
    "Controller3010263944": {
        "PhaseDescriptor": {
            "0": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "1": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "2": {
                "flows": "1100",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "3": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "4": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "5": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "6": {
                "flows": "0011",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            },
            "7": {
                "flows": "0000",
                "minInterval": 50,
                "maxInterval": 50,
                "threshold": 12
            }
        },
        "maxInterval": 50,
        "minInterval": 50,
        "phases": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        "sensors": [
            "S24",
            "S25",
            "S27",
            "S26"
        ],
        "threshold": 3
    }
}

if __name__ == '__main__':
    output = {}
    for i in test.selected_intersections:
        output[i] = intersection_info[i]
    pp = test.findPhase()
    para = config.morning_opt
    for idx in range(len(pp)):
        i = pp[idx]
        controller = i.controller
        phase = str(i.phase)
        output[controller]["PhaseDescriptor"][phase]["minInterval"] = 200
        output[controller]["PhaseDescriptor"][phase]["maxInterval"] = 600
        output[controller]["PhaseDescriptor"][phase]["threshold"] = para[int(idx)]

    print str(output).replace("'", '"')
